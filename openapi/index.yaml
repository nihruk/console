openapi: '3.1.0'
info:
  title: IODA
  version: '0.0.0'
  x-logo:
    url: https://www.nihr.ac.uk/layout/4.0/assets/logos/nihr-master-logo-325px.png
    href: https://nihr.ac.uk
    backgroundColor: '#ffffff'
servers:
  - url: 'https://example.com'
    description: Live API.
paths:
  '/resources':
    get:
      tags:
        - Resources
      description: Get a collection of resources.
      responses:
        '200':
          '$ref': '#/components/responses/200OKResources'
        '400':
          '$ref': '#/components/responses/400BadRequest'
        '405':
          '$ref': '#/components/responses/405MethodNotAllowed'
        '406':
          '$ref': '#/components/responses/406NotAcceptable'
        '415':
          '$ref': '#/components/responses/415UnsupportedMediaType'
        '500':
          '$ref': '#/components/responses/500InternalServerError'
        '502':
          '$ref': '#/components/responses/502BadGateway'
        '503':
          '$ref': '#/components/responses/503ServiceUnavailable'
        '504':
          '$ref': '#/components/responses/504GatewayTimeout'
  '/resources/{resourceId}':
    get:
      tags:
        - Resource
      description: Get a resource.
      responses:
        '200':
          '$ref': '#/components/responses/200OKResource'
        '400':
          '$ref': '#/components/responses/400BadRequest'
        '404':
          '$ref': '#/components/responses/404NotFound'
        '405':
          '$ref': '#/components/responses/405MethodNotAllowed'
        '406':
          '$ref': '#/components/responses/406NotAcceptable'
        '415':
          '$ref': '#/components/responses/415UnsupportedMediaType'
        '500':
          '$ref': '#/components/responses/500InternalServerError'
        '502':
          '$ref': '#/components/responses/502BadGateway'
        '503':
          '$ref': '#/components/responses/503ServiceUnavailable'
        '504':
          '$ref': '#/components/responses/504GatewayTimeout'
    parameters:
      - '$ref': '#/components/parameters/resourceId'
  '/programmes':
    get:
      tags:
        - Research programmes
      summary: Get a collection of research programmes
      responses:
        '200':
          '$ref': '#/components/responses/200OKProgrammes'
        '400':
          '$ref': '#/components/responses/400BadRequest'
        '405':
          '$ref': '#/components/responses/405MethodNotAllowed'
        '406':
          '$ref': '#/components/responses/406NotAcceptable'
        '415':
          '$ref': '#/components/responses/415UnsupportedMediaType'
        '500':
          '$ref': '#/components/responses/500InternalServerError'
        '502':
          '$ref': '#/components/responses/502BadGateway'
        '503':
          '$ref': '#/components/responses/503ServiceUnavailable'
        '504':
          '$ref': '#/components/responses/504GatewayTimeout'
  '/programmes/{programmeId}':
    get:
      tags:
        - Research programme
      summary: Get a research programme
      responses:
        '200':
          '$ref': '#/components/responses/200OKProgramme'
        '400':
          '$ref': '#/components/responses/400BadRequest'
        '404':
          '$ref': '#/components/responses/404NotFound'
        '405':
          '$ref': '#/components/responses/405MethodNotAllowed'
        '406':
          '$ref': '#/components/responses/406NotAcceptable'
        '415':
          '$ref': '#/components/responses/415UnsupportedMediaType'
        '500':
          '$ref': '#/components/responses/500InternalServerError'
        '502':
          '$ref': '#/components/responses/502BadGateway'
        '503':
          '$ref': '#/components/responses/503ServiceUnavailable'
        '504':
          '$ref': '#/components/responses/504GatewayTimeout'
    parameters:
      - '$ref': '#/components/parameters/programmeId'
  '/awards':
    get:
      operationId: getAwards
      tags:
        - Awards
      summary: Get a collection of awards
      responses:
        '200':
          '$ref': '#/components/responses/200OKAwards'
        '400':
          '$ref': '#/components/responses/400BadRequest'
        '405':
          '$ref': '#/components/responses/405MethodNotAllowed'
        '406':
          '$ref': '#/components/responses/406NotAcceptable'
        '415':
          '$ref': '#/components/responses/415UnsupportedMediaType'
        '500':
          '$ref': '#/components/responses/500InternalServerError'
        '502':
          '$ref': '#/components/responses/502BadGateway'
        '503':
          '$ref': '#/components/responses/503ServiceUnavailable'
        '504':
          '$ref': '#/components/responses/504GatewayTimeout'
    parameters:
      - '$ref': '#/components/parameters/organisationIdFilter'
        name: manager
      - '$ref': '#/components/parameters/programmeIdFilter'
      - '$ref': '#/components/parameters/organisationIdFilter'
        name: contractor
      - '$ref': '#/components/parameters/callIdFilter'
      - '$ref': '#/components/parameters/personIdFilter'
        name: people
  '/awards/{awardId}':
    get:
      tags:
        - Award
      summary: Get an award
      responses:
        '200':
          '$ref': '#/components/responses/200OKAward'
        '400':
          '$ref': '#/components/responses/400BadRequest'
        '404':
          '$ref': '#/components/responses/404NotFound'
        '405':
          '$ref': '#/components/responses/405MethodNotAllowed'
        '406':
          '$ref': '#/components/responses/406NotAcceptable'
        '415':
          '$ref': '#/components/responses/415UnsupportedMediaType'
        '500':
          '$ref': '#/components/responses/500InternalServerError'
        '502':
          '$ref': '#/components/responses/502BadGateway'
        '503':
          '$ref': '#/components/responses/503ServiceUnavailable'
        '504':
          '$ref': '#/components/responses/504GatewayTimeout'
    parameters:
      - '$ref': '#/components/parameters/awardId'
  '/calls/{callId}':
    get:
      tags:
        - Call
      summary: Get a research call
      responses:
        '200':
          '$ref': '#/components/responses/200OKCall'
        '400':
          '$ref': '#/components/responses/400BadRequest'
        '404':
          '$ref': '#/components/responses/404NotFound'
        '405':
          '$ref': '#/components/responses/405MethodNotAllowed'
        '406':
          '$ref': '#/components/responses/406NotAcceptable'
        '415':
          '$ref': '#/components/responses/415UnsupportedMediaType'
        '500':
          '$ref': '#/components/responses/500InternalServerError'
        '502':
          '$ref': '#/components/responses/502BadGateway'
        '503':
          '$ref': '#/components/responses/503ServiceUnavailable'
        '504':
          '$ref': '#/components/responses/504GatewayTimeout'
    parameters:
      - '$ref': '#/components/parameters/callId'
  '/journals':
    get:
      tags:
        - Journals
      summary: Get a collection of journals
      responses:
        '200':
          '$ref': '#/components/responses/200OKJournals'
        '400':
          '$ref': '#/components/responses/400BadRequest'
        '405':
          '$ref': '#/components/responses/405MethodNotAllowed'
        '406':
          '$ref': '#/components/responses/406NotAcceptable'
        '415':
          '$ref': '#/components/responses/415UnsupportedMediaType'
        '500':
          '$ref': '#/components/responses/500InternalServerError'
        '502':
          '$ref': '#/components/responses/502BadGateway'
        '503':
          '$ref': '#/components/responses/503ServiceUnavailable'
        '504':
          '$ref': '#/components/responses/504GatewayTimeout'
  '/journals/{journalId}':
    get:
      tags:
        - Journal
      summary: Get a journal
      responses:
        '200':
          '$ref': '#/components/responses/200OKJournal'
        '400':
          '$ref': '#/components/responses/400BadRequest'
        '404':
          '$ref': '#/components/responses/404NotFound'
        '405':
          '$ref': '#/components/responses/405MethodNotAllowed'
        '406':
          '$ref': '#/components/responses/406NotAcceptable'
        '415':
          '$ref': '#/components/responses/415UnsupportedMediaType'
        '500':
          '$ref': '#/components/responses/500InternalServerError'
        '502':
          '$ref': '#/components/responses/502BadGateway'
        '503':
          '$ref': '#/components/responses/503ServiceUnavailable'
        '504':
          '$ref': '#/components/responses/504GatewayTimeout'
    parameters:
      - '$ref': '#/components/parameters/journalId'
  '/volumes':
    get:
      operationId: getVolumes
      tags:
        - Volumes
      summary: Get a collection of volumes
      responses:
        '200':
          '$ref': '#/components/responses/200OKVolumes'
        '400':
          '$ref': '#/components/responses/400BadRequest'
        '405':
          '$ref': '#/components/responses/405MethodNotAllowed'
        '406':
          '$ref': '#/components/responses/406NotAcceptable'
        '415':
          '$ref': '#/components/responses/415UnsupportedMediaType'
        '500':
          '$ref': '#/components/responses/500InternalServerError'
        '502':
          '$ref': '#/components/responses/502BadGateway'
        '503':
          '$ref': '#/components/responses/503ServiceUnavailable'
        '504':
          '$ref': '#/components/responses/504GatewayTimeout'
    parameters:
      - '$ref': '#/components/parameters/journalIdFilter'
  '/volumes/{volumeId}':
    get:
      tags:
        - Volume
      summary: Get a volume
      responses:
        '200':
          '$ref': '#/components/responses/200OKVolume'
        '400':
          '$ref': '#/components/responses/400BadRequest'
        '404':
          '$ref': '#/components/responses/404NotFound'
        '405':
          '$ref': '#/components/responses/405MethodNotAllowed'
        '406':
          '$ref': '#/components/responses/406NotAcceptable'
        '415':
          '$ref': '#/components/responses/415UnsupportedMediaType'
        '500':
          '$ref': '#/components/responses/500InternalServerError'
        '502':
          '$ref': '#/components/responses/502BadGateway'
        '503':
          '$ref': '#/components/responses/503ServiceUnavailable'
        '504':
          '$ref': '#/components/responses/504GatewayTimeout'
    parameters:
      - '$ref': '#/components/parameters/volumeId'
  '/publications':
    get:
      operationId: getPublications
      tags:
        - Publications
      summary: Get a collection of publications
      responses:
        '200':
          '$ref': '#/components/responses/200OKPublications'
        '400':
          '$ref': '#/components/responses/400BadRequest'
        '405':
          '$ref': '#/components/responses/405MethodNotAllowed'
        '406':
          '$ref': '#/components/responses/406NotAcceptable'
        '415':
          '$ref': '#/components/responses/415UnsupportedMediaType'
        '500':
          '$ref': '#/components/responses/500InternalServerError'
        '502':
          '$ref': '#/components/responses/502BadGateway'
        '503':
          '$ref': '#/components/responses/503ServiceUnavailable'
        '504':
          '$ref': '#/components/responses/504GatewayTimeout'
    parameters:
      - '$ref': '#/components/parameters/awardIdFilter'
      - '$ref': '#/components/parameters/journalIdFilter'
      - '$ref': '#/components/parameters/volumeIdFilter'
  '/publications/{publicationId}':
    get:
      tags:
        - Publication
      summary: Get a publication
      responses:
        '200':
          '$ref': '#/components/responses/200OKPublication'
        '400':
          '$ref': '#/components/responses/400BadRequest'
        '404':
          '$ref': '#/components/responses/404NotFound'
        '405':
          '$ref': '#/components/responses/405MethodNotAllowed'
        '406':
          '$ref': '#/components/responses/406NotAcceptable'
        '415':
          '$ref': '#/components/responses/415UnsupportedMediaType'
        '500':
          '$ref': '#/components/responses/500InternalServerError'
        '502':
          '$ref': '#/components/responses/502BadGateway'
        '503':
          '$ref': '#/components/responses/503ServiceUnavailable'
        '504':
          '$ref': '#/components/responses/504GatewayTimeout'
    parameters:
      - '$ref': '#/components/parameters/publicationId'
  '/persons':
    get:
      tags:
        - Persons
      summary: Get a collection of people
      responses:
        '200':
          '$ref': '#/components/responses/200OKPersons'
        '400':
          '$ref': '#/components/responses/400BadRequest'
        '405':
          '$ref': '#/components/responses/405MethodNotAllowed'
        '406':
          '$ref': '#/components/responses/406NotAcceptable'
        '415':
          '$ref': '#/components/responses/415UnsupportedMediaType'
        '500':
          '$ref': '#/components/responses/500InternalServerError'
        '502':
          '$ref': '#/components/responses/502BadGateway'
        '503':
          '$ref': '#/components/responses/503ServiceUnavailable'
        '504':
          '$ref': '#/components/responses/504GatewayTimeout'
  '/persons/{personId}':
    get:
      tags:
        - Person
      summary: Get a person
      responses:
        '200':
          '$ref': '#/components/responses/200OKPerson'
        '400':
          '$ref': '#/components/responses/400BadRequest'
        '404':
          '$ref': '#/components/responses/404NotFound'
        '405':
          '$ref': '#/components/responses/405MethodNotAllowed'
        '406':
          '$ref': '#/components/responses/406NotAcceptable'
        '415':
          '$ref': '#/components/responses/415UnsupportedMediaType'
        '500':
          '$ref': '#/components/responses/500InternalServerError'
        '502':
          '$ref': '#/components/responses/502BadGateway'
        '503':
          '$ref': '#/components/responses/503ServiceUnavailable'
        '504':
          '$ref': '#/components/responses/504GatewayTimeout'
    parameters:
      - '$ref': '#/components/parameters/personId'
  '/organisations':
    get:
      tags:
        - Organisations
      summary: Get a collection of organisations.
      responses:
        '200':
          '$ref': '#/components/responses/200OKOrganisations'
        '400':
          '$ref': '#/components/responses/400BadRequest'
        '405':
          '$ref': '#/components/responses/405MethodNotAllowed'
        '406':
          '$ref': '#/components/responses/406NotAcceptable'
        '415':
          '$ref': '#/components/responses/415UnsupportedMediaType'
        '500':
          '$ref': '#/components/responses/500InternalServerError'
        '502':
          '$ref': '#/components/responses/502BadGateway'
        '503':
          '$ref': '#/components/responses/503ServiceUnavailable'
        '504':
          '$ref': '#/components/responses/504GatewayTimeout'
  '/organisations/{organisationId}':
    get:
      tags:
        - Organisation
      summary: Get an organisation
      responses:
        '200':
          '$ref': '#/components/responses/200OKOrganisation'
        '400':
          '$ref': '#/components/responses/400BadRequest'
        '404':
          '$ref': '#/components/responses/404NotFound'
        '405':
          '$ref': '#/components/responses/405MethodNotAllowed'
        '406':
          '$ref': '#/components/responses/406NotAcceptable'
        '415':
          '$ref': '#/components/responses/415UnsupportedMediaType'
        '500':
          '$ref': '#/components/responses/500InternalServerError'
        '502':
          '$ref': '#/components/responses/502BadGateway'
        '503':
          '$ref': '#/components/responses/503ServiceUnavailable'
        '504':
          '$ref': '#/components/responses/504GatewayTimeout'
    parameters:
      - '$ref': '#/components/parameters/organisationId'
  '/users':
    get:
      tags:
        - User
      summary: Get a collection of users
      responses:
        '200':
          '$ref': '#/components/responses/200OKUsers'
        '400':
          '$ref': '#/components/responses/400BadRequest'
        '401':
          '$ref': '#/components/responses/401Unauthorised'
        '403':
          '$ref': '#/components/responses/403Forbidden'
        '405':
          '$ref': '#/components/responses/405MethodNotAllowed'
        '406':
          '$ref': '#/components/responses/406NotAcceptable'
        '415':
          '$ref': '#/components/responses/415UnsupportedMediaType'
        '500':
          '$ref': '#/components/responses/500InternalServerError'
        '502':
          '$ref': '#/components/responses/502BadGateway'
        '503':
          '$ref': '#/components/responses/503ServiceUnavailable'
        '504':
          '$ref': '#/components/responses/504GatewayTimeout'
      security:
        - ioda: []
    post:
      tags:
        - User
      summary: Save a new user
      requestBody:
        content:
          application/json:
            schema:
              '$ref': '#/components/schemas/user'
      responses:
        '200':
          '$ref': '#/components/responses/200OKUser'
        '400':
          '$ref': '#/components/responses/400BadRequest'
        '401':
          '$ref': '#/components/responses/401Unauthorised'
        '403':
          '$ref': '#/components/responses/403Forbidden'
        '404':
          '$ref': '#/components/responses/404NotFound'
        '405':
          '$ref': '#/components/responses/405MethodNotAllowed'
        '406':
          '$ref': '#/components/responses/406NotAcceptable'
        '415':
          '$ref': '#/components/responses/415UnsupportedMediaType'
        '500':
          '$ref': '#/components/responses/500InternalServerError'
        '502':
          '$ref': '#/components/responses/502BadGateway'
        '503':
          '$ref': '#/components/responses/503ServiceUnavailable'
        '504':
          '$ref': '#/components/responses/504GatewayTimeout'
      security:
        - ioda: []
  '/users/{userId}':
    get:
      tags:
        - User
      summary: Get a user
      responses:
        '200':
          '$ref': '#/components/responses/200OKUser'
        '400':
          '$ref': '#/components/responses/400BadRequest'
        '401':
          '$ref': '#/components/responses/401Unauthorised'
        '403':
          '$ref': '#/components/responses/403Forbidden'
        '404':
          '$ref': '#/components/responses/404NotFound'
        '405':
          '$ref': '#/components/responses/405MethodNotAllowed'
        '406':
          '$ref': '#/components/responses/406NotAcceptable'
        '415':
          '$ref': '#/components/responses/415UnsupportedMediaType'
        '500':
          '$ref': '#/components/responses/500InternalServerError'
        '502':
          '$ref': '#/components/responses/502BadGateway'
        '503':
          '$ref': '#/components/responses/503ServiceUnavailable'
        '504':
          '$ref': '#/components/responses/504GatewayTimeout'
      security:
        - ioda: []
    patch:
      tags:
        - User
      summary: Update a user
      requestBody:
        content:
          application/json-patch+json:
            schema:
              '$ref': 'https://json.schemastore.org/json-patch'
      responses:
        '200':
          '$ref': '#/components/responses/200OKUser'
        '400':
          '$ref': '#/components/responses/400BadRequest'
        '401':
          '$ref': '#/components/responses/401Unauthorised'
        '403':
          '$ref': '#/components/responses/403Forbidden'
        '404':
          '$ref': '#/components/responses/404NotFound'
        '405':
          '$ref': '#/components/responses/405MethodNotAllowed'
        '406':
          '$ref': '#/components/responses/406NotAcceptable'
        '415':
          '$ref': '#/components/responses/415UnsupportedMediaType'
        '500':
          '$ref': '#/components/responses/500InternalServerError'
        '502':
          '$ref': '#/components/responses/502BadGateway'
        '503':
          '$ref': '#/components/responses/503ServiceUnavailable'
        '504':
          '$ref': '#/components/responses/504GatewayTimeout'
      security:
        - ioda: []
    delete:
      tags:
        - User
      summary: Delete a user
      responses:
        '200':
          description: The user was successfully deleted.
        '400':
          '$ref': '#/components/responses/400BadRequest'
        '401':
          '$ref': '#/components/responses/401Unauthorised'
        '403':
          '$ref': '#/components/responses/403Forbidden'
        '404':
          '$ref': '#/components/responses/404NotFound'
        '405':
          '$ref': '#/components/responses/405MethodNotAllowed'
        '406':
          '$ref': '#/components/responses/406NotAcceptable'
        '415':
          '$ref': '#/components/responses/415UnsupportedMediaType'
        '500':
          '$ref': '#/components/responses/500InternalServerError'
        '502':
          '$ref': '#/components/responses/502BadGateway'
        '503':
          '$ref': '#/components/responses/503ServiceUnavailable'
        '504':
          '$ref': '#/components/responses/504GatewayTimeout'
      security:
        - ioda: []
    parameters:
      - '$ref': '#/components/parameters/userId'
components:
  schemas:
    resource:
      type: object
      properties:
        id:
          '$ref': '#/components/schemas/resourceId'
        name:
          type: string
          minLength: 1
          maxLength: 255
          description: The resource's human-readable name
        links:
          type: array
          items:
            '$ref': '#/components/schemas/link'
          uniqueItems: true
          minItems: 1
      required:
        - id
        - links
      additionalProperties: false
    resourceLink:
      type: string
      format: uri
      examples:
        - /resource/123
    rel:
      type: string
      minLength: 1
      maxLength: 255
      examples:
        - related
      description: The IANA relation to the link target
    link:
      type: object
      properties:
        type:
          type: string
          minLength: 1
          maxLength: 255
          examples:
            - application/pdf
          description: The link target's media/MIME type
        rel:
          '$ref': '#/components/schemas/rel'
        uri:
          type: string
          format: uri
      required:
        - type
        - uri
      additionalProperties: false
    organisation:
      type: object
      properties:
        id:
          '$ref': '#/components/schemas/organisationId'
        name:
          type: string
          minLength: 1
          maxLength: 255
          description: The organisation's human-readable name.
          examples:
            - University of Southampton
        address:
          '$ref': '#/components/schemas/address'
      required:
        - id
        - name
      additionalProperties: false
    programme:
      type: object
      title: Programme
      description: A research programme.
      properties:
        id:
          '$ref': '#/components/schemas/programmeId'
        name:
          type: string
          title: Name
          minLength: 1
          maxLength: 255
          description: The research programme's human-readable name.
      required:
        - id
        - name
      additionalProperties: false
    award:
      type: object
      title: Award
      description: A research award.
      properties:
        id:
          '$ref': '#/components/schemas/awardId'
        title:
          type: string
          minLength: 1
          maxLength: 255
          description: The award's human-readable title.
        start:
          title: Start date
          description: The date the research started.
          type: string
          format: date
          examples:
            - 1970-01-01
        end:
          title: End date
          description: The date the research ended.
          type: string
          format: date
          examples:
            - 2000-01-01
        funding:
          title: The total NIHR funding granted to the award
          description: 'The granted funding in pence sterling. Example: `254566100` representing £2,545,661.00.'
          type: integer
          multipleOf: 1
          minimum: 1
          examples:
            - 254566100
        website:
          title: Website
          description: The absolute URL to the award's own website.
          type: string
          format: uri
        manager:
          '$ref': '#/components/schemas/organisationReference'
        call:
          '$ref': '#/components/schemas/callReference'
        programme:
          '$ref': '#/components/schemas/programmeReference'
        contractor:
          '$ref': '#/components/schemas/organisationReference'
        isrctn:
          '$ref': '#/components/schemas/isrctn'
        prospero:
          '$ref': '#/components/schemas/prospero'
        resources:
          type: array
          items:
            '$ref': '#/components/schemas/resourceLink'
        people:
          type: array
          items:
            '$ref': '#/components/schemas/personInvolvement'
      required:
        - id
        - manager
        - call
        - programme
        - contractor
      additionalProperties: false
    call:
      title: Research call
      description: A research call
      type: object
      properties:
        id:
          '$ref': '#/components/schemas/callId'
        name:
          type: string
          minLength: 1
          maxLength: 255
          description: The research call's human-readable name.
          examples:
            - HTA Clinical Trials - Pharmaceutical Panel
        start:
          title: Start date
          description: The date the call opened.
          type: string
          format: date
          examples:
            - 1970-01-01
        end:
          title: End date
          description: The date the call closed.
          type: string
          format: date
          examples:
            - 2000-01-01
        programmeStream:
          '$ref': '#/components/schemas/programmeStream'
      required:
        - id
        - name
        - programmeStream
      additionalProperties: false
    journal:
      type: object
      title: Journal
      description: A journal.
      properties:
        id:
          '$ref': '#/components/schemas/journalId'
        name:
          title: Name
          description: The journal's human-readable name.
          type: string
          minLength: 1
          maxLength: 255
          examples:
            - Efficacy and Mechanism Evaluation
            - Health and Social Care Delivery Research
            - Programme Grants for Applied Research
        name_short:
          title: Short name
          description: The journal's short human-readable name.
          type: string
          minLength: 1
          maxLength: 255
          examples:
            - Efficacy Mech Eval
            - Health Soc Care Deliv Res
            - Programme Grants Appl Res
        description:
          title: Description
          description: A description of the journal.
          type: string
          minLength: 1
        issns:
          '$ref': '#/components/schemas/issns'
        images:
          title: Images
          description: Images of the journal.
          type: array
          minItems: 1
          items:
            title: The URL to the image.
            type: string
            format: uri
      required:
        - id
        - name
        - description
        - issns
        - images
      additionalProperties: false
    volume:
      type: object
      title: Volume
      description: A volume.
      properties:
        id:
          '$ref': '#/components/schemas/volumeId'
        journal:
          '$ref': '#/components/schemas/journalReference'
        number:
          title: The volume number
          type: integer
          multipleOf: 1
          minimum: 1
          examples:
            - 11
      required:
        - id
        - journal
        - number
      additionalProperties: false
    publication:
      type: object
      title: Publication
      description: A publication.
      properties:
        id:
          '$ref': '#/components/schemas/publicationId'
        award:
          '$ref': '#/components/schemas/awardReference'
        journal:
          '$ref': '#/components/schemas/journalReference'
        volume:
          '$ref': '#/components/schemas/volumeReference'
        doi:
          '$ref': '#/components/schemas/doi'
        title:
          type: string
          minLength: 1
          maxLength: 255
          description: The publication's human-readable title.
        abstract:
          '$ref': '#/components/schemas/formattedText'
        plain_summary:
          '$ref': '#/components/schemas/formattedText'
        scientific_summary:
          '$ref': '#/components/schemas/formattedText'
        citation:
          type: string
          minLength: 1
          maxLength: 255
          description: The publication's human-readable citation.
      required:
        - id
        - award
        - journal
        - doi
        - name
        - abstract
        - citation
      additionalProperties: false
    person:
      type: object
      properties:
        id:
          '$ref': '#/components/schemas/personId'
        name:
          type: string
          minLength: 1
          maxLength: 255
          description: The person's name.
          examples:
            - Josiah Carberry
        orcid:
          '$ref': '#/components/schemas/orcid'
      required:
        - id
        - name
      additionalProperties: false
    user:
      type: object
      properties:
        id:
          '$ref': '#/components/schemas/userId'
        emailAddress:
          type: string
          format: email
          description: The user's email address.
      required:
        - id
        - emailAddress
      additionalProperties: false
    error:
      type: object
      properties:
        message:
          type: string
          minLength: 1
          maxLength: 255
          description: The human-readable error message.
        http:
          type: object
          properties:
            status:
              type: string
              pattern: '^\d\d\d$'
              description: The HTTP response status code.
            message:
              type: string
              minLength: 1
              maxLength: 255
              description: The HTTP response status message.
          required:
            - status
            - message
          additionalProperties: false
      required:
        - message
        - http
      additionalProperties: false
    resourceId:
      name: Resource ID
      type: string
      minLength: 1
      maxLength: 255
    programmeId:
      title: Programme ID
      description: A research programme ID.
      type: string
      minLength: 1
      maxLength: 255
    programmeReference:
      title: Programme reference
      description: The relative URL of the endpoint to call to retrieve this research programme.
      type: string
      format: uri
      examples:
        - /programme/123
    awardId:
      title: Award ID
      description: An award ID.
      type: string
      minLength: 1
      maxLength: 255
      examples:
        - 06/303/20
        - NIHR203571
    awardReference:
      title: Award reference
      description: The relative URL of the endpoint to call to retrieve this award.
      type: string
      format: uri
      examples:
        - /award/06/303/20
    callId:
      description: A research call ID.
      type: string
      minLength: 1
      maxLength: 255
    callReference:
      title: Research call reference
      description: The relative URL of the endpoint to call to retrieve this research call.
      type: string
      format: uri
      examples:
        - /call/06/303
    journalId:
      title: Journal ID
      description: A journal ID.
      type: string
      minLength: 1
      maxLength: 255
      examples:
        - eme
        - hsdr
        - pfgar
    journalReference:
      title: Journal reference
      description: The relative URL of the endpoint to call to retrieve this journal.
      type: string
      format: uri
      examples:
        - /journal/eme
        - /journal/hsdr
        - /journal/pgfar
    volumeId:
      title: Volume ID
      description: A volume ID.
      type: string
      minLength: 1
      maxLength: 255
    volumeReference:
      title: Volume reference
      description: The relative URL of the endpoint to call to retrieve this volume.
      type: string
      format: uri
      examples:
        - /volume/???
    publicationId:
      title: Publication ID
      description: A publication ID.
      type: string
      minLength: 1
      maxLength: 255
      examples:
        - DANE8826
    publicationReference:
      title: Publication reference
      description: The relative URL of the endpoint to call to retrieve this publication.
      type: string
      format: uri
      examples:
        - /publication/DANE8826
    personId:
      title: Person ID
      description: A person ID.
      type: string
      minLength: 1
      maxLength: 255
    personReference:
      title: Person reference
      description: The relative URL of the endpoint to call to retrieve this person.
      type: string
      format: uri
      examples:
        - /person/123
    personInvolvement:
      name: Involvement
      oneOf:
        - type: object
        - '$ref': '#/components/schemas/contributorInvolvement'
      discriminator:
        propertyName: role
        mapping:
          lead_applicant: '#/components/schemas/simpleInvolvement'
          joint_lead_applicant: '#/components/schemas/simpleInvolvement'
          lead_investigator: '#/components/schemas/simpleInvolvement'
          chief_investigator: '#/components/schemas/simpleInvolvement'
          co_investigator: '#/components/schemas/simpleInvolvement'
          director: '#/components/schemas/simpleInvolvement'
          contributor: '#/components/schemas/contributorInvolvement'
    simpleInvolvement:
      name: Simple involvement
      type: object
      properties:
        person:
          '$ref': '#/components/schemas/personReference'
        role:
          description: This person's role as part of their involvement.
          enum:
            - lead_applicant
            - joint_lead_applicant
            - lead_investigator
            - chief_investigator
            - co_investigator
            - director
            - contributor
      required:
        - person
        - role
    contributorInvolvement:
      name: Contributor involvement
      allOf:
        - '$ref': '#/components/schemas/simpleInvolvement'
        - type: object
          properties:
            credit:
              name: CRediT role
              description: The [Contributor Roles Taxonomy](https://credit.niso.org/) (CRediT) roles that describes this contributor's involvement.
              type: array
              items:
                '$ref': '#/components/schemas/credit'
    credit:
      description: A [Contributor Roles Taxonomy](https://credit.niso.org/) (CRediT) role that describes a contributor's involvement.
      enum:
        - conceptualisation
        - data-curation
        - formal-analysis
        - funding-acquisition
        - investigation
        - methodology
        - project-administration
        - resources
        - software
        - supervision
        - validation
        - visualisation
        - writing-original-draft
        - writing-review-editing
    institutionId:
      title: Institution ID
      description: An institution ID.
    organisationId:
      title: Organisation ID
      description: An organisation ID.
      type: string
      minLength: 1
      maxLength: 255
    organisationReference:
      title: Organisation reference
      description: The relative URL of the endpoint to call to retrieve this organisation.
      type: string
      format: uri
      examples:
        - /organisation/123
    userId:
      title: User ID
      '$ref': '#/components/schemas/uuidV4'
    userReference:
      title: User reference
      description: The relative URL of the endpoint to call to retrieve this user.
      type: string
      format: uri
      examples:
        - /user/123e4567-e89b-12d3-a456-426614174000
    uuidV4:
      title: UUID v4
      description: A UUID version 4.
      externalDocs:
        url: https://datatracker.ietf.org/doc/html/rfc4122
        description: RFC 4122.
      type: string
      pattern: '[0-9a-f]{8}\-[0-9a-f]{4}\-4[0-9a-f]{3}\-[89ab][0-9a-f]{3}\-[0-9a-f]{12}'
      examples:
        - 123e4567-e89b-12d3-a456-426614174000
      readonly: true
    programmeStream:
      title: Programme stream
      description: |
        - A `commissioned` research call is a call for research on a specific topic
        - A `researcher-led` call is an open call for research
      enum:
        - commissioned
        - researcher-led
    orcid:
      title: ORCID
      description: Open Researcher and Contributor ID.
      externalDocs:
        url: https://orcid.org/
        description: Official ORCID site.
      type: string
      pattern: '^https:\/\/orcid.org\/\d{4}-\d{4}-\d{4}-\d{4}$'
      examples:
        - https://orcid.org/0000-0002-1825-0097
    isrctn:
      title: ISRCTN
      description: An ISRCTN registration number.
      externalDocs:
        url: https://www.isrctn.com/
        description: Official ISRCTN site.
      type: string
      pattern: '^ISRCTN\d{8}$'
      examples:
        - ISRCTN86750102
    prospero:
      title: PROSPERO
      description: A PROSPERO registration number.
      externalDocs:
        url: https://www.crd.york.ac.uk/PROSPERO/
        description: Official PROSPERO site.
      type: string
      minLength: 1
      maxLength: 255
      examples:
        - CRD42021232535
    issn:
      title: ISSN
      description: International Standard Serial Number.
      externalDocs:
        url: https://www.issn.org/
        description: Official ISSN site.
      type: string
      pattern: '^[0-9]{4}-[0-9]{3}[0-9xX]$'
      examples:
        - 0317-8471
        - 1050-124X
    issns:
      title: ISSNs
      type: object
      properties:
        print:
          '$ref': '#/components/schemas/issn'
        online:
          '$ref': '#/components/schemas/issn'
      additionalProperties: false
      required:
        - print
        - online
    doi:
      title: DOI
      description: Digital Object Identifier
      externalDocs:
        url: https://www.doi.org/
        description: Official DOI site.
      type: string
      pattern: '^https:\/\/doi.org\/'
      examples:
        - https://doi.org/10.1000/182
    formattedText:
      title: Formatted text
      description: Text that may have a content type different from `text/plain` and that may thus require additional formatting.
      type: object
      properties:
        text:
          type: string
          minLength: 1
        type:
          title: The text's content type
          enum:
            - text/plain
      additionalProperties: false
      required:
        - text
        - type
    coordinates:
      type: object
      title: Coordinates
      description: Geographic coordinates.
      properties:
        latitude:
          title: Latitude
          type: number
          examples:
            - 50.93457002193244
          description: A geographic coordinate in decimal degrees.
        longitude:
          title: Longitude
          type: number
          examples:
            - -1.3971751797681855
          description: A geographic coordinate in decimal degrees.
      required:
        - latitude
        - longitude
      additionalProperties: false
    postcode:
      title: Postcode
      description: A UK postcode.
      type: string
      pattern: '^[A-Z]{1,2}[0-9][A-Z0-9]? ?[0-9][A-Z]{2}$'
      examples:
        - SO17 1BJ
    address:
      title: Address
      description: A UK address.
      type: object
      properties:
        line1:
          title: Line 1
          type: string
          minLength: 1
          maxLength: 255
          examples:
            - University of Southampton
        line2:
          title: Line 2
          type: string
          minLength: 1
          maxLength: 255
          examples:
            - University Road
        line3:
          title: Line 3
          type: string
          minLength: 1
          maxLength: 255
        town:
          title: Town
          type: string
          minLength: 1
          maxLength: 255
          examples:
            - Southampton
        postcode:
          '$ref': '#/components/schemas/postcode'
        coordinates:
          '$ref': '#/components/schemas/coordinates'
      required:
        - line1
        - town
        - postcode
      additionalProperties: false
  parameters:
    resourceId:
      name: resourceId
      description: Resource ID
      in: path
      required: true
      schema:
        '$ref': '#/components/schemas/resourceId'
    callIdFilter:
      name: call
      description: The ID of the research call to filter results by.
      in: query
      schema:
        '$ref': '#/components/schemas/callId'
    programmeId:
      name: programmeId
      description: Research programme ID.
      in: path
      required: true
      schema:
        '$ref': '#/components/schemas/programmeId'
    programmeIdFilter:
      name: programme
      description: Research programme ID.
      in: query
      schema:
        '$ref': '#/components/schemas/programmeId'
    awardId:
      name: awardId
      description: Award ID.
      in: path
      required: true
      schema:
        '$ref': '#/components/schemas/awardId'
    awardIdFilter:
      name: award
      description: Research award ID.
      in: query
      schema:
        '$ref': '#/components/schemas/awardId'
    callId:
      name: callId
      description: Research call ID
      in: path
      required: true
      schema:
        '$ref': '#/components/schemas/callId'
    journalId:
      name: journalId
      description: Journal ID.
      in: path
      required: true
      schema:
        '$ref': '#/components/schemas/journalId'
    journalIdFilter:
      name: journal
      description: Research journal ID.
      in: query
      schema:
        '$ref': '#/components/schemas/journalId'
    volumeId:
      name: volumeId
      description: Volume ID.
      in: path
      required: true
      schema:
        '$ref': '#/components/schemas/volumeId'
    volumeIdFilter:
      name: volume
      description: Research volume ID.
      in: query
      schema:
        '$ref': '#/components/schemas/volumeId'
    publicationId:
      name: publicationId
      description: Publication ID.
      in: path
      required: true
      schema:
        '$ref': '#/components/schemas/publicationId'
    publicationIdFilter:
      name: publication
      description: Research publication ID.
      in: query
      schema:
        '$ref': '#/components/schemas/publicationId'
    personId:
      name: personId
      description: Person ID.
      in: path
      required: true
      schema:
        '$ref': '#/components/schemas/personId'
    personIdFilter:
      name: person
      description: Person ID.
      in: query
      schema:
        '$ref': '#/components/schemas/personId'
    organisationId:
      name: organisationId
      description: Organisation ID.
      in: path
      required: true
      schema:
        '$ref': '#/components/schemas/organisationId'
    organisationIdFilter:
      name: organisation
      description: Organisation ID.
      in: query
      schema:
        '$ref': '#/components/schemas/organisationId'
    userId:
      name: userId
      description: User ID.
      in: path
      required: true
      schema:
        '$ref': '#/components/schemas/userId'
  responses:
    200OKResource:
      description: A resource
      content:
        application/json:
          schema:
            '$ref': '#/components/schemas/resource'
    200OKResources:
      description: A collection of resources
      content:
        application/json:
          schema:
            type: array
            items:
              '$ref': '#/components/schemas/resource'
    200OKProgramme:
      description: A research programme.
      content:
        application/json:
          schema:
            '$ref': '#/components/schemas/programme'
      links:
        awards:
          operationId: getAwards
          parameters:
            programme: '$response.body#/id'
    200OKProgrammes:
      description: A collection of research programmes.
      content:
        application/json:
          schema:
            type: array
            items:
              '$ref': '#/components/schemas/programmeReference'
    200OKAward:
      description: An award.
      content:
        application/json:
          schema:
            '$ref': '#/components/schemas/award'
    200OKAwards:
      description: A collection of awards.
      content:
        application/json:
          schema:
            type: array
            items:
              '$ref': '#/components/schemas/awardReference'
    200OKCall:
      description: A research call
      content:
        application/json:
          schema:
            '$ref': '#/components/schemas/call'
    200OKJournal:
      description: A journal.
      content:
        application/json:
          schema:
            '$ref': '#/components/schemas/journal'
    200OKJournals:
      description: A collection of journals.
      content:
        application/json:
          schema:
            type: array
            items:
              '$ref': '#/components/schemas/journalReference'
    200OKVolume:
      description: A volume.
      content:
        application/json:
          schema:
            '$ref': '#/components/schemas/volume'
      links:
        publications:
          operationId: getPublications
          parameters:
            volume: '$response.body#/id'
    200OKVolumes:
      description: A collection of volumes.
      content:
        application/json:
          schema:
            type: array
            items:
              '$ref': '#/components/schemas/volumeReference'
    200OKPublication:
      description: A publication.
      content:
        application/json:
          schema:
            '$ref': '#/components/schemas/publication'
    200OKPublications:
      description: A collection of publications.
      content:
        application/json:
          schema:
            type: array
            items:
              '$ref': '#/components/schemas/publicationReference'
    200OKPerson:
      description: A person.
      content:
        application/json:
          schema:
            '$ref': '#/components/schemas/person'
    200OKPersons:
      description: A collection of people.
      content:
        application/json:
          schema:
            type: array
            items:
              '$ref': '#/components/schemas/personReference'
    200OKOrganisation:
      description: An organisation.
      content:
        application/json:
          schema:
            '$ref': '#/components/schemas/organisation'
      links:
        contractedAwards:
          operationId: getAwards
          parameters:
            contractor: '$response.body#/id'
        managedAwards:
          operationId: getAwards
          parameters:
            manager: '$response.body#/id'
    200OKOrganisations:
      description: A collection of organisations.
      content:
        application/json:
          schema:
            type: array
            items:
              '$ref': '#/components/schemas/organisationReference'
    200OKUser:
      description: A user.
      content:
        application/json:
          schema:
            '$ref': '#/components/schemas/user'
    200OKUsers:
      description: A collection of users.
      content:
        application/json:
          schema:
            type: array
            items:
              '$ref': '#/components/schemas/userReference'
    400BadRequest:
      description: An HTTP 400 Bad Request error.
      content:
        application/json:
          schema:
            '$ref': '#/components/schemas/error'
    401Unauthorised:
      description: An HTTP 401 Unauthorised error.
      content:
        application/json:
          schema:
            '$ref': '#/components/schemas/error'
    403Forbidden:
      description: An HTTP 403 Forbidden error.
      content:
        application/json:
          schema:
            '$ref': '#/components/schemas/error'
    404NotFound:
      description: An HTTP 404 Not Found error.
      content:
        application/json:
          schema:
            '$ref': '#/components/schemas/error'
    405MethodNotAllowed:
      description: An HTTP 405 Method Not Allowed error.
      content:
        application/json:
          schema:
            '$ref': '#/components/schemas/error'
    406NotAcceptable:
      description: An HTTP 406 Not Acceptable error.
      content:
        application/json:
          schema:
            '$ref': '#/components/schemas/error'
    415UnsupportedMediaType:
      description: An HTTP 415 Unsupported Media Type error.
      content:
        application/json:
          schema:
            '$ref': '#/components/schemas/error'
    500InternalServerError:
      description: An HTTP 500 Internal Server Error error.
      content:
        application/json:
          schema:
            '$ref': '#/components/schemas/error'
    502BadGateway:
      description: An HTTP 502 Bad Gateway error.
      content:
        application/json:
          schema:
            '$ref': '#/components/schemas/error'
    503ServiceUnavailable:
      description: An HTTP 503 Service Unavailable error.
      content:
        application/json:
          schema:
            '$ref': '#/components/schemas/error'
    504GatewayTimeout:
      description: An HTTP 504 Gateway Timeout error.
      content:
        application/json:
          schema:
            '$ref': '#/components/schemas/error'
  securitySchemes:
    ioda:
      type: http
      scheme: Bearer
      description: An API token generated through your user account.